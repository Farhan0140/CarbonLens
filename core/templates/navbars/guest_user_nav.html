
<nav class="w-full p-4 rounded-2xl bg-gradient-to-r from-white to-[#82eda0] shadow-neu flex flex-wrap items-center justify-between gap-4 sticky top-4 z-50">
  <!-- Logo -->
  <div class="flex items-center gap-3">
      <div class="w-10 h-10 bg-gradient-to-r from-[#e6e9f0] to-white shadow-[8px_8px_16px_#d1d9e6,-8px_-8px_16px_#ffffff] rounded-full flex items-center justify-center text-primary">
          <i class="fas fa-leaf"></i>
      </div>
      <div class="text-2xl font-bold text-primary-dark">
          Carbon<span class="text-primary">Lens</span>
      </div>
  </div>

  <!-- Hamburger / Close Button -->
  <button id="navbar-toggle" class="lg:hidden text-2xl text-gray-700 focus:outline-none">
      <i class="fas fa-bars"></i>
  </button>

  <!-- Desktop Menu (only lg and up) -->
  <ul id="desktop-menu" class="hidden lg:flex flex-row space-x-2 ml-auto">
      <li><a href="#" class="flex items-center px-5 py-3 rounded-xl font-semibold text-gray bg-gradient-to-r from-secondary to-[#d9e5e1] shadow-box-inner hover:border-b-4 border-green-600 hover:text-primary-dark transition-all duration-300">
          <i class="fas fa-home mr-2"></i> Home
      </a></li>
      <li><a href="#" class="flex items-center px-5 py-3 rounded-xl font-semibold text-gray bg-gradient-to-r from-secondary to-[#d9e5e1] shadow-box-inner hover:border-b-4 border-green-600 hover:text-primary-dark transition-all duration-300">
          <i class="fas fa-car mr-2"></i> Transport
      </a></li>
      <li><a href="#" class="flex items-center px-5 py-3 rounded-xl font-semibold text-gray bg-gradient-to-r from-secondary to-[#d9e5e1] shadow-box-inner hover:border-b-4 border-green-600 hover:text-primary-dark transition-all duration-300">
          <i class="fas fa-bolt mr-2"></i> Electricity
      </a></li>
      <li><a href="#" class="flex items-center px-5 py-3 rounded-xl font-semibold text-gray bg-gradient-to-r from-secondary to-[#d9e5e1] shadow-box-inner hover:border-b-4 border-green-600 hover:text-primary-dark transition-all duration-300">
          <i class="fas fa-apple-alt mr-2"></i> Lifestyle
      </a></li>
      <li><a href="#" class="flex items-center px-5 py-3 rounded-xl font-semibold text-gray bg-gradient-to-r from-secondary to-[#d9e5e1] shadow-box-inner hover:border-b-4 border-green-600 hover:text-primary-dark transition-all duration-300">
          <i class="fas fa-chart-line mr-2"></i> Results
      </a></li>

      <!-- Desktop Profile Button -->
      <li class="ml-4">
          <div class="relative" id="profile-dropdown-container">
              <button id="profile-button" class="flex items-center gap-2 px-4 py-3 rounded-xl bg-white shadow-box-inner hover:shadow-md transition-all duration-200 font-medium text-gray-700">
                  <i class="fas fa-user-circle text-xl"></i>
                  <span>Profile</span>
                  <i id="profile-chevron" class="fas fa-chevron-down text-xs ml-1"></i>
              </button>

              <!-- Profile Dropdown with Smooth Animation -->
              <div id="profile-menu" class="absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden z-50">
                  <ul class="text-gray-700 text-sm">
                      <li><a href="#" class="flex items-center px-5 py-3 hover:bg-green-50 hover:text-primary transition-all duration-200">
                          <i class="fas fa-user mr-3 text-primary"></i> {{guest_user.name}}
                      </a></li>
                      <li><hr class="border-t border-gray-200"></li>
                      <form method="post" action="{% url 'sign_out' %}">
                        {% csrf_token %}
                        <button type="submit" class="w-full flex items-center px-5 py-3 text-red-600 hover:bg-red-50 transition-all duration-200">
                            <i class="fas fa-sign-out-alt mr-3"></i> Logout
                        </button>
                    </form>
                  </ul>
                </div>
            </div>
        </li>
    </ul>
</nav>

<!-- Mobile Menu (visible on lg and below) -->
<div id="mobile-menu" class="hidden lg:hidden mt-2 w-full bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden">
  <ul class="text-gray-700 text-sm">
      <li><a href="#" class="flex items-center px-5 py-3 border-b border-gray-100 hover:bg-green-50 hover:text-primary transition-all duration-200">
          <i class="fas fa-home mr-3 text-primary"></i> Home
      </a></li>
      <li><a href="#" class="flex items-center px-5 py-3 border-b border-gray-100 hover:bg-green-50 hover:text-primary transition-all duration-200">
          <i class="fas fa-car mr-3 text-primary"></i> Transport
      </a></li>
      <li><a href="#" class="flex items-center px-5 py-3 border-b border-gray-100 hover:bg-green-50 hover:text-primary transition-all duration-200">
          <i class="fas fa-bolt mr-3 text-primary"></i> Electricity
      </a></li>
      <li><a href="#" class="flex items-center px-5 py-3 border-b border-gray-100 hover:bg-green-50 hover:text-primary transition-all duration-200">
          <i class="fas fa-apple-alt mr-3 text-primary"></i> Lifestyle
      </a></li>
      <li><a href="#" class="flex items-center px-5 py-3 border-b border-gray-100 hover:bg-green-50 hover:text-primary transition-all duration-200">
          <i class="fas fa-chart-line mr-3 text-primary"></i> Results
      </a></li>

      <!-- Mobile Profile Trigger -->
      <li class="border-b border-gray-100">
          <button id="mobile-profile-button" class="w-full text-left flex items-center justify-between px-5 py-3 hover:bg-green-50 transition-all duration-200">
              <span class="flex items-center">
                  <i class="fas fa-user-circle mr-3 text-primary"></i>
                  <span>Profile</span>
              </span>
              <i class="fas fa-chevron-down text-xs" id="mobile-chevron"></i>
          </button>
      </li>

      <!-- Mobile Profile Dropdown -->
      <div id="mobile-profile-menu" class="hidden pl-5 bg-gray-50">
          <ul class="text-sm">
            <li><a href="#" class="flex items-center px-5 py-3 hover:bg-green-50 hover:text-primary transition-all duration-200">
                <i class="fas fa-user mr-3 text-primary"></i> {{guest_user.name}}
            </a></li>
              <form method="post" action="{% url 'sign_out' %}">
                {% csrf_token %}
                <button type="submit" class="w-full flex items-center px-5 py-3 text-red-600 hover:bg-red-50 transition-all duration-200">
                    <i class="fas fa-sign-out-alt mr-3"></i> Logout
                </button>
            </form>
          </ul>
      </div>
  </ul>
</div>
